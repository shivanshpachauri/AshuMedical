import{R as u,r as a,n as j,D as m,j as e,o as f,P as t,p as y,b as N,q as R,f as q,L as v,E as _,U as w,T as C,F as E}from"./index-ixY1YaKu.js";import T from"./Newentries-BtR2FqKs.js";const o=u.memo(({item:s,style:i})=>{const{toggleEditing:r,setmedicines:n}=a.useContext(j),{handleDelete:c}=a.useContext(m),d=localStorage.getItem("loggedin");function l(){r(),n({id:s.id,name:s.name,manufacturer_name:s.manufacturer_name,price:s.price,pack_size_label:s.pack_size_label,short_composition1:s.short_composition1})}return e.jsxs("div",{className:"bestsellingtablerow  d-flex flex-row rounded",style:i,children:[e.jsxs("div",{className:"container d-flex",children:[e.jsx("div",{className:"col-1",children:s.id}),e.jsx("div",{className:"col-3",children:s.name}),e.jsx("div",{className:"col-1",children:s.price}),e.jsx("div",{className:"col-3",children:s.manufacturer_name}),e.jsx("div",{className:"col-2",children:s.pack_size_label}),e.jsx("div",{className:"col-1",children:s.short_composition1})]}),d&&e.jsx("div",{className:"col-0",children:e.jsxs("div",{style:{float:"right"},className:"d-flex flex-column",children:[e.jsx("button",{type:"button",className:"btn btn-danger ",onClick:()=>c(s),children:"Delete"}),e.jsx("button",{type:"button",className:"visible btn btn-primary",onClick:l,children:"Edit"})]})})]})},f);o.propTypes={item:t.shape({id:t.string.isRequired,name:t.string.isRequired,price:t.number.isRequired,manufacturer_name:t.string.isRequired,pack_size_label:t.string.isRequired}).isRequired,style:t.object.isRequired};o.displayName="TableRow";const x=({index:s,style:i,data:r})=>{const n=r[s];return e.jsx(o,{item:n,style:i},n.id)};x.propTypes={index:t.number.isRequired,style:t.object.isRequired,data:t.array.isRequired};function F(){const{isSorted:s}=a.useContext(y);return N({queryKey:["Fetchmedicines",s],queryFn:()=>R(s),staleTime:3e3,cacheTime:3e3})}function k(){const{deletestate:s}=a.useContext(m),[i,r]=a.useState(!1),[n,c]=a.useState(!1),d=q();n&&d.invalidateQueries(["Fetchmedicines"]);const{data:l,isLoading:h,isError:p}=F();return h?e.jsx(v,{title:"Loading Bestselling"}):p?e.jsx(_,{title:"Error in bestselling"}):e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{id:"bestsellingtable",children:e.jsxs("div",{className:"text-capitalize container px-4 py-5",children:[e.jsx("h1",{className:"theading",children:"Medicines"}),e.jsx("button",{type:"button",id:"addnewentries",className:"btn btn-success",onClick:()=>r(!i),children:"Add new entries"}),i&&e.jsx(T,{submitstate:n,setsubmitstate:c}),s&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:e.jsx("strong",{children:"Deleted successfully"})}),e.jsx(C,{}),e.jsx(E,{id:"Reactwindowlist",height:500,itemCount:l.length,itemSize:85,width:"100%",children:({index:g,style:b})=>e.jsx(x,{index:g,style:b,data:l})})]})})]})}const D=u.memo(k);export{D as default};
