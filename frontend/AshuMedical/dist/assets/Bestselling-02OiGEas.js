import{R as h,c as b,r as c,o as f,D as p,u as g,j as e,p as N,q as y,S as v,P as n,s as j,b as w,t as _,L as C,E as k,U as q,F as R}from"./index-D_JhfqDr.js";import S from"./Newentries-CZcAn4oY.js";const m=h.memo(({item:s,style:t})=>{const r=b(),{toggleEditing:d,setmedicines:a}=c.useContext(f),{handleDelete:o}=c.useContext(p),u=g(i=>i.authslice.isLoggedIn);function l(i){r(y.setcart({id:i.id,name:i.name,description:i.short_composition1,price:i.price,quantity:i.quantity})),v.fire("Submitted successfully")}function x(){d(),a({id:s.id,name:s.name,manufacturer_name:s.manufacturer_name,price:s.price,pack_size_label:s.pack_size_label,short_composition1:s.short_composition1})}return e.jsxs("div",{className:"bestsellingtablerow  d-flex flex-row rounded",style:t,children:[e.jsxs("div",{className:"container d-flex",children:[e.jsx("div",{className:"col-1",children:s.id}),e.jsx("div",{className:"col-3",children:s.name}),e.jsx("div",{className:"col-1",children:s.price}),e.jsx("div",{className:"col-3",children:s.manufacturer_name}),e.jsx("div",{className:"col-2",children:s.pack_size_label}),e.jsx("div",{className:"col-1",children:s.short_composition1})]}),u?e.jsx("div",{className:"col-0",children:e.jsxs("div",{style:{float:"right"},className:"d-flex flex-column",children:[e.jsx("button",{type:"button",className:"btn btn-danger ",onClick:()=>o(s),children:"Delete"}),e.jsx("button",{type:"button",className:"visible btn btn-primary",onClick:x,children:"Edit"})]})}):e.jsx("button",{className:"btn productcardbutton btn-primary m-1 p-1",onClick:()=>l(s),children:"Buy Now"})]})},N);m.propTypes={item:n.shape({id:n.string.isRequired,name:n.string.isRequired,price:n.number.isRequired,manufacturer_name:n.string.isRequired,pack_size_label:n.string.isRequired}).isRequired,style:n.object.isRequired};m.displayName="TableRow";function E(){const{togglebestselling:s}=c.useContext(j);function t(){s()}return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"relative"},className:"d-flex flex-row justify-content-end m-2",children:e.jsx("button",{type:"button",name:"ascending",id:"ascending",className:"p-2 btn btn-secondary",style:{width:"7em"},onClick:t,children:"Sort"})}),e.jsxs("div",{className:"container d-flex align-items-center flex-wrap bg-primary text-capitalize rounded shadow-sm text-break text-center",children:[e.jsx("div",{className:"col-1",children:"id"}),e.jsx("div",{className:"col-3",children:"name"}),e.jsx("div",{className:"col-1",children:"price"}),e.jsx("div",{className:"col-3",children:"Manufacturer"}),e.jsx("div",{className:"col-2",children:"Pack_size"}),e.jsx("div",{className:"col-1",children:"Salt"})]})]})}function z(){const{isSorted:s}=c.useContext(j),{bestselling:t}=s;return w({queryKey:["Fetchmedicines",t],queryFn:()=>_(s.bestselling),staleTime:3e3,cacheTime:3e3})}function L(){const{deletestate:s}=c.useContext(p),[t,r]=c.useState(!1),d=g(l=>l.authslice.isLoggedIn),{data:a,isLoading:o,isError:u}=z();return o?e.jsx(C,{title:"Loading Bestselling"}):u?e.jsx(k,{title:"Error in bestselling"}):e.jsxs("div",{children:[e.jsx(q,{}),e.jsx("div",{id:"bestsellingtable",children:e.jsxs("div",{className:"text-capitalize container px-4 py-5",children:[e.jsx("h1",{className:"theading",children:"Medicines"}),d&&e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("button",{type:"button",id:"addnewentries",className:"btn btn-success",onClick:()=>r(!t),children:"Add new entries"})}),t&&d&&e.jsx(S,{}),s&&e.jsx("div",{className:"alert alert-danger",role:"alert",children:e.jsx("strong",{children:"Deleted successfully"})}),e.jsx(E,{}),a?e.jsx(R,{id:"Reactwindowlist",height:500,itemCount:a.length,itemSize:85,width:"100%",style:{overflowX:"hidden"},children:({index:l,style:x})=>e.jsx(m,{item:a[l],style:x},a[l].id)}):e.jsx("div",{children:"No elements present "})]})})]})}const D=h.memo(L);export{D as default};
